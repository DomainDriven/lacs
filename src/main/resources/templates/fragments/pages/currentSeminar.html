<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
</head>
<body th:fragment="currentSeminar">
<div class="col-md-12">
    <section class="content-header">
        <ol class="breadcrumb">
            <li class="active"><a th:href="@{/}" href="/"><i class="fa fa-dashboard"></i> 홈</a></li>
        </ol>
    </section>
    <br/><br/>
    <section class="content">
        <div class="box box-primary">
            <div class="box-header with-border">
                <h3 class="box-title">당월 세미나</h3>
                <div class="box-tools pull-right">
                    <button type="button" class="btn btn-box-tool" data-widget="collapse"><i
                            class="fa fa-minus"></i>
                    </button>
                    <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-remove"></i>
                    </button>
                </div>
            </div>
            <div class="box-body">
                <div class="col-md-3">

                    <div class="info-box bg-aqua" id="seminarDateInfoBox">
                        <span id="seminarDateIcon" class="info-box-icon" data-toggle="tooltip" data-placement="bottom"
                              title="세미나 날짜를 수정하려면 클릭하세요."><i class="fa fa-calendar"></i></span>

                        <div class="info-box-content">
                            <span class="info-box-text">세미나 예정일 </span>
                            <span th:text="${#dates.format(currentSeminar.date, 'yyyy년 MMM dd일')}"
                                  class="info-box-number"></span>
                        </div>
                        <div class="progress">
                            <div class="progress-bar" style="width: 100%"></div>
                        </div>
                        <span class="progress-description" style="padding-left: 10px;"
                              th:text="(${diffDate} > 0) ? '세미나가 ' + ${diffDate} + '일 남았습니다.' : '세미나가 ' + ${diffDate} + '일 지났습니다.' ">세미나가 7일 남았습니다.</span>
                        <!-- /.info-box-content -->
                    </div>

                    <form th:action="@{/seminar/editDate}" method="post" id="seminarEditDateForm">
                        <div class="input-group" style="display: none" id="seminarEditDateInput">
                            <input type="text" name="date" class="form-control" id="seminarEditDate"/>
                            <input type="hidden" name="id" th:value="${currentSeminar.id}"/>
                            <span class="input-group-btn">
                                <button id="seminarEditDateBtn" class="btn btn-info">세미나 날짜 수정</button>
                                <button class="btn btn-danger cancelBtn">취소</button>
                            </span>
                        </div><!-- /input-group -->
                    </form>

                    <!--<div th:replace="fragments/modal/modifySeminar :: modifySeminar"></div>-->
                </div>
                <div class="col-md-9">
                    <h3 th:text="${currentSeminar.title}">Current Semiar Title</h3>
                    <table class="table table-striped">
                        <thead>
                        <tr>
                            <th>Task</th>
                            <th>Worker</th>
                            <th>Progress</th>
                            <th>State</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="task: ${currentSeminar.tasks}">
                            <td class="center-y">
                                <a th:href="@{${task.getRequestUrl()}(title=${currentSeminar.title})}" href="#">
                                    <span class="center-y" th:text="${task.getTaskName()}">Task Name</span>
                                </a>
                            </td>
                            <td class="center-y">
                                <a href="#"><span class="center-y">Task Worker</span></a>
                            </td>
                            <td>
                                <div class="progress">
                                    <div class="progress-bar" role="progressbar" aria-valuemax="100" aria-valuemin="0"
                                         aria-valuenow="{{task.progress}}"
                                         th:style="'width:' + ${task.progress} + '%; color: #0c0c0c;'">
                                        <span th:text="${task.progress} + '%'">Task Progress%</span>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <span class="label label-primary" th:if="${task.progress} == 100">완료</span>
                                <span class="label label-success" th:unless="${task.progress} == 100">진행중</span>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                    <!--TODO: task 추가 기능 추후 구현 - donghoon.-->
                    <!--<div class="input-group">-->
                    <!--<input type="text" class="form-control" placeholder="Add Task"/>-->
                    <!--<span class="input-group-btn">-->
                    <!--<button class="btn btn-default" type="button">추가</button>-->
                    <!--</span>-->
                    <!--</div>&lt;!&ndash; /input-group &ndash;&gt;-->
                </div>
            </div>
            <!--.box-body-->
        </div>
        <!--.box-->
    </section>
    <!--.content-->
</div>
<!--.col-md-12-->
</body>
</html>